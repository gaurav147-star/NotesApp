{"ast":null,"code":"var _jsxFileName = \"/home/gauravg/Documents/github/NotesApp/client/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport \"./css/login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nrequire(\"dotenv\").config();\n\nconst Login = props => {\n  _s();\n\n  const [credentials, setCredentials] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  let history = useHistory();\n  const host = process.env.REACT_APP_HOST_KEY;\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const response = await fetch(`${host}/api/auth/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: credentials.email,\n        password: credentials.password\n      })\n    });\n    const json = await response.json(); // console.log(json);\n\n    if (json.success) {\n      // Save the auth token and redirect\n      localStorage.setItem(\"token\", json.authtoken);\n      history.push(\"/\");\n      props.showAlert(\"Account created successfully\", \"success\");\n    } else {\n      props.showAlert(\"Invalid Credentials\", \"danger\");\n    }\n  };\n\n  const onChange = e => {\n    setCredentials({ ...credentials,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container \",\n    id: \"logincon\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"logtxt\",\n      children: \"Login to NotesApp\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      id: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group \",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"exampleInputEmail1\",\n          children: \"Email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"form-control\",\n          id: \"email\",\n          name: \"email\",\n          value: credentials.email,\n          \"aria-describedby\": \"emailHelp\",\n          placeholder: \"Enter email\",\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"exampleInputPassword1\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          id: \"password\",\n          value: credentials.password,\n          name: \"password\",\n          placeholder: \"Password\",\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cont\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          id: \"loginbtn\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contn\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          className: \"sign mx-2 my-2\",\n          to: \"/signup\",\n          children: \"Signup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"YhxiXO9aJRV8v5rsvSwu2hdegeE=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Link","useHistory","require","config","Login","props","credentials","setCredentials","email","password","history","host","process","env","REACT_APP_HOST_KEY","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","json","success","localStorage","setItem","authtoken","push","showAlert","onChange","target","name","value"],"sources":["/home/gauravg/Documents/github/NotesApp/client/src/components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./css/login.css\";\r\nrequire(\"dotenv\").config();\r\n\r\nconst Login = (props) => {\r\n  const [credentials, setCredentials] = useState({ email: \"\", password: \"\" });\r\n  let history = useHistory();\r\n  const host = process.env.REACT_APP_HOST_KEY;\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const response = await fetch(`${host}/api/auth/login`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email: credentials.email,\r\n        password: credentials.password,\r\n      }),\r\n    });\r\n    const json = await response.json();\r\n    // console.log(json);\r\n    if (json.success) {\r\n      // Save the auth token and redirect\r\n      localStorage.setItem(\"token\", json.authtoken);\r\n      history.push(\"/\");\r\n      props.showAlert(\"Account created successfully\", \"success\");\r\n    } else {\r\n      props.showAlert(\"Invalid Credentials\", \"danger\");\r\n    }\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    setCredentials({ ...credentials, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container \" id=\"logincon\">\r\n      <h2 className=\"logtxt\">Login to NotesApp</h2>\r\n      <form onSubmit={handleSubmit} id=\"login\">\r\n        <div className=\"form-group \">\r\n          <label htmlFor=\"exampleInputEmail1\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            value={credentials.email}\r\n            aria-describedby=\"emailHelp\"\r\n            placeholder=\"Enter email\"\r\n            onChange={onChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"password\"\r\n            value={credentials.password}\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            onChange={onChange}\r\n          />\r\n        </div>\r\n        <div className=\"cont\">\r\n          <button type=\"submit\" className=\"btn btn-primary\" id=\"loginbtn\">\r\n            Submit\r\n          </button>\r\n        </div>\r\n        <div className=\"contn\">\r\n          <Link className=\"sign mx-2 my-2\" to=\"/signup\">\r\n            Signup\r\n          </Link>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}